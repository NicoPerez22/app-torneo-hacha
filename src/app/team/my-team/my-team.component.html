<div class="header-bg" style="min-height: 265px"></div>
<div class="container py-4">
  <div class="row justify-content-center">
    <div class="col-12 col-md-6 text-center position-relative mb-4">
      <div
        class="position-absolute top-0 start-50 translate-middle"
        style="z-index: 1"
      >
        <img
          [src]="myTeam?.logo?.secureUrl"
          class="rounded-circle shadow"
          style="
            width: 120px;
            height: 120px;
            object-fit: contain;
            border: 1px solid #fff;
          "
        />
        <span
          class="position-absolute bottom-0 end-0 translate-middle p-1 bg-success border border-white rounded-circle"
          style="width: 16px; height: 16px"
        ></span>
      </div>
      <div style="margin-top: 80px">
        <h2 class="text-white fw-bold">{{ myTeam?.name }}</h2>
        <p class="text-secondary mb-1"></p>
      </div>
      <div class="mt-1">
        <ul
          class="d-flex justify-content-center gap-2 p-0 mb-3"
          style="list-style: none"
        >
          <li><h6>Manager:</h6></li>
          <li>
            <h6>{{ myTeam?.owner?.name }} {{ myTeam?.owner?.lastName }}</h6>
          </li>
        </ul>
        <div class="d-flex gap-3 justify-content-center">
          <button class="btn btn-success" (click)="openModalSearchPlayers()">
            <i class="fa fa-arrow-right" aria-hidden="true"></i>
            Transferencia
          </button>

          <button class="btn btn-warning" (click)="openModalSearchPlayers()">
            <i class="fa fa-user" aria-hidden="true"></i>
            Asignar Manager
          </button>

          <button class="btn btn-danger" (click)="openModalSearchPlayers()">
            <i class="fa fa-trash" aria-hidden="true"></i>
            Eliminar jugadores
          </button>
        </div>
      </div>
    </div>

    <div class="col-12">
      <hr class="border-light" />
    </div>

    <!-- Tabs Bootstrap -->
    <ul
      class="nav nav-tabs mb-4 border-0 gaming-tabs"
      id="teamTabs"
      role="tablist"
    >
      <li class="nav-item flex-fill text-center" role="presentation">
        <a
          class="nav-link gaming-tab-btn active"
          id="jugadores-tab"
          data-bs-toggle="tab"
          href="#jugadores"
          role="tab"
          aria-controls="jugadores"
          aria-selected="true"
        >
          <i class="fa fa-users me-2"></i>Jugadores
        </a>
      </li>
      <li class="nav-item flex-fill text-center" role="presentation">
        <a
          class="nav-link gaming-tab-btn"
          id="estadisticas-tab"
          data-bs-toggle="tab"
          href="#estadisticas"
          role="tab"
          aria-controls="estadisticas"
          aria-selected="false"
        >
          <i class="fa fa-calendar me-2"></i>Proximas Fechas
        </a>
      </li>
    </ul>

    <div class="tab-content mb-4" id="teamTabsContent">
      <div
        class="tab-pane fade show active"
        id="jugadores"
        role="tabpanel"
        aria-labelledby="jugadores-tab"
        tabindex="0"
      >
        <!-- Aquí va tu grid de jugadores -->
        <div class="col-12">
          <div class="row g-3 justify-content-center mb-5">
            <div
              class="col-6 col-sm-4 col-md-2 col-lg-2 text-center"
              *ngFor="let player of playersTeamsList"
            >
              <img
                [src]="
                  player?.photo
                    ? player.photo.secureUrl
                    : '../../../assets/images/player-default.png'
                "
                class="mb-2"
                width="60"
                height="60"
                style="object-fit: cover"
              />

              <div
                [ngClass]="
                  player.isHabilitado ? 'state-confirmation' : 'state-red'
                "
              ></div>

              <div>
                <h6 class="mb-0">{{ player?.name }} {{ player?.lastName }}</h6>
              </div>

              <div>
                <h6 class="mt-1">
                  <span
                    [ngClass]="{
                      gk: player.position == 'GK',
                      defence: player.position == 'DFI' || 'DFC' || 'DFD',
                      medio: player.position == 'MCO',
                      attack: player.position == 'DC'
                    }"
                    >{{ player?.position }}</span
                  >
                  -
                  <span
                    class="overball"
                    [ngClass]="{
                      'valoration-yellow': player?.valoration < 70,
                      'valoration-green-clarito':
                        player?.valoration >= 70 && player?.valoration < 85,
                      'valoration-green-dark': player?.valoration >= 85
                    }"
                    >{{ player?.valoration }}</span
                  >
                </h6>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div
        class="tab-pane fade"
        id="estadisticas"
        role="tabpanel"
        aria-labelledby="estadisticas-tab"
        tabindex="0"
      >
        <!-- Aquí puedes poner el contenido de estadísticas o lo que necesites -->
        <div class="text-center py-5">
          <div class="row justify-content-center">
            <div class="col-12 col-md-6 col-lg-8 mt-4 mt-md-4">
              <ul class="match-list">
                <li
                  class="match-item d-flex justify-content-between align-items-center"
                  *ngFor="
                    let match of myTeam?.rounds
                      | paginate : { itemsPerPage: 6, currentPage: p }
                  "
                >
                  <div class="team">
                    <img
                      [src]="
                        match?.homeLogo?.secureUrl
                          ? match?.homeLogo?.secureUrl
                          : '../../../assets/images/player-default.png'
                      "
                      alt="Logo"
                    /><span>{{ match.home }}</span>
                  </div>

                  <div>VS</div>

                  <div class="team">
                    <span>{{ match.away }}</span
                    ><img
                      [src]="
                        match?.awayLogo?.secureUrl
                          ? match?.awayLogo?.secureUrl
                          : '../../../assets/images/player-default.png'
                      "
                      alt="Logo"
                    />
                  </div>
                </li>

                <div class="mt-5">
                  <pagination-controls
                    (pageChange)="p = $event"
                    previousLabel="Anterior"
                    nextLabel="Siguiente"
                  ></pagination-controls>
                </div>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
